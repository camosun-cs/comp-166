<!DOCTYPE html>
<html lang="en-CA">
<head>
	<meta charset="utf-8">
	<title>File I/O (Lab 5) - COMP 166</title>
	<meta name="viewport" content="width=device-width"/>
	<base href="https://camosun-cs.github.io/comp-166/labs/file-io/" target="_blank"/>
	<link rel="stylesheet" href="../template/bundle.css"/>
	<style>
		.eq {
			display: flex;
			align-items: center;
		}
		.eq > * {
			padding: 0 0.25em;
		}
		.fract {
			display: inline-flex;
			flex-direction: column;
			text-align: center;
		}
		.fract-num {
			border-bottom: 1px solid black;
		}
	</style>
</head>
<body>
	<header>
		<h1>COMP 166 - Lab 5 - File I/O</h1>
		<nav><ol>
			<li><a href="#outcomes">Learning Outcomes and Introduction</a></li>
			<li><a href="#task1"><strong>Task 1</strong>: Echoing Files</a></li>
			<li><a href="#task2"><strong>Task 2</strong>: Formatted Input</a></li>
			<li><a href="#submission">Submission</a></li>
		</ol></nav>
	</header>
	
	<p>ADDED STUFF</p>

	<section id="outcomes">
		<h2>Learning Outcomes and Introduction</h2>
		<p>In this lab assignment you will learn about:</p>
		<ul>
			<li>Opening and closing files with <code class="language-c">fopen</code> and <code class="language-c">fclose</code></li>
			<li>Reading lines with <code class="language-c">fgets</code></li>
			<li>Interpretting file data with <code class="language-c">fscanf</code> and <code class="language-c">sscanf</code></li>
			<li>Printing to files and <code class="language-c">stderr</code> using <code class="language-c">fprintf</code></li>
		</ul>
		<p>You will also practice using functions and loops, and translating mathematical expressions into code.</p>
	</section>

	<section id="task1">
		<h2>Task 1: Echoing Files</h2>
		<p>Create a program that prints the contents of input files to standard output.</p>
		<p>Your program should accept a list of input file names to read as command-line arguments. If a file name is preceded by a "<samp>-a</samp>" switch, the contents of the file should be interpretted as a list of additional file names to open. Otherwise, each named file should be read and printed in the order given.</p>
		<aside>Make sure that you close each file that you open (with <code class="language-c">fclose</code>) when you are done reading from it!</aside>
		<details>
			<summary>Example usage</summary>
			<dl>
				<dt><samp>./task1</samp></dt>
				<dd>Print a usage summary, such as
					"<samp>usage: ./task1 [-a] [file ...]</samp>"
				</dd>
			</dl>
			<dl>
				<dt><samp>./task1 file1.txt file2.txt</samp></dt>
				<dd>Print the contents of <samp>file1.txt</samp>, followed by the contents of <samp>file2.txt</samp></dd>
			</dl>
			<dl>
				<dt><samp>./task1 -a filelist.txt</samp></dt>
				<dd>Read a list of input file names from the content of <samp>filelist.txt</samp> and print the contents of each file in order.</dd>
			</dl>
			<dl>
				<dt><samp>./task1 file1.txt -a filelist.txt file2.txt</samp></dt>
				<dd>Print the contents of <samp>file1.txt</samp>, followed by the contents of each file listed inside <samp>filelist.txt</samp> (in order), followed by the contents of <samp>file2.txt</samp>.</dd>
			</dl>
		</details>
		<p>If any input file cannot be opened, or an error occurs during reading, print an error message to the standard error output and continue to the next input file.</p>
	</section>

	<section id="task2">
		<h2>Task 2: Formatted Input</h2>
		<p>Create a program that calculates statistics from a log of sensor data and prints a report to a file.</p>
		<p>Your program should accept two command-line arguments: the name of the log file to read, followed by the name of the report file to write. If only one command-line argument is given, write the report to standard output instead. If no arguments are given, read the sensor data from standard input instead.</p>
		<p>The log data your program processes will be formatted as a table of values. Each line of input will begin with a timestamp, followed by a list of floating-point sensor reading values (separated by white-space). The number of sensor readings on a line can vary from file to file, but every line in a file should have the same number of readings. Every line of input is guaranteed to be less than 500 characters long.</p>
		<aside>Note: there is no limit to the <em>number of lines</em> to process from a file, so you should not try to read and store all of the data at once in your program. Instead, accumulate your statistics on a line-by-line basis.</aside>
		<p>If the log data file cannot be opened, or an error occurs during reading, print an error message to the standard error stream and terminate the program. Similarly print an error message and exit if the log file contains any improperly formatted data or has an inconsistent number of sensor readings on each line.</p>
		<p>The report generated by your program should display the timestamp that the minimum and maximum sensor values were recorded (across all readings). In addition, it should report the statistical mean (average) and standard deviation of the values in each column of sensor data.</p>
		<details>
			<summary>Example input and output</summary>
			<p>Given an input file like:</p>
			<a href="example-input.txt" class="sample language-text" download>Download example-input.txt</a>
			<p>Your program should output something like:</p>
			<a href="example-output.txt" class="sample language-text" download>Download example-output.txt</a>
		</details>
		<details>
			<summary>Math details</summary>
			<p>The statistical mean <var>x&#772;</var> for a set of values is given by the formula:</p>
			<div class="eq">
				<span>x&#772;</span>
				<span>=</span>
				<span class="fract">
					<span class="fract-num">Σx<sub>i</sub></span>
					<span class="fract-den">N</span>
				</span>
			</div>
			<p>Where <var>x<sub>i</sub></var> is a single data value (such that <var>Σx<sub>i</sub></var> is the sum of all values), and <var>N</var> is the total number of values.</p>
			<p>The standard deviation <var>σ</var> for a set of values is usually defined as:</p>
			<div class="eq">
				<span>σ<sup>2</sup></span>
				<span>=</span>
				<span class="fract">
					<span class="fract-num">Σ(x<sub>i</sub> - x&#772;)<sup>2</sup></span>
					<span class="fract-den">N - 1</span>
				</span>
			</div>
			<aside>Don't forget to use square-root to get <var>σ</var>!</aside>
			<p>However, this formulation would require two passes over the data set in order to first compute the mean and then compute the deviation using the mean. An alternate form can be used to compute the standard deviation in a single pass:</p>
			<div class="eq">
				<span>σ<sup>2</sup></span>
				<span>=</span>
				<span class="fract">
					<span class="fract-num">N(Σx<sub>i</sub><sup>2</sup>) - (Σx<sub>i</sub>)<sup>2</sup></span>
					<span class="fract-den">N(N - 1)</span>
				</span>
			</div>
		</details>
	</section>

	<section id="submission">
		<h2>Submission</h2>
		<p>
			Completing all tasks in this lab should result in <strong>2 or more</strong> separate files within a single folder named like <samp>LastnameFirstname_lab5</samp>. Compress the folder into a ZIP archive and upload it to the D2L assignment.
		</p>
		<p>
			The marks for this lab are heavily weighted towards good coding practice and style. Pay attention to your code formatting, use comments to clarify your code, and make sure you are using defines, arrays, loops, and functions effectively.
		</p>
		<p>
			<b>NOTE</b>: This assignment is to be done <em>individually</em>. You can help one another with problems and questions, but in the end everyone must write and submit their own code.
		</p>
		<table class="marks">
			<thead>
				<tr><th>Criteria</th><th>Marks</th></tr>
			</thead>
			<tbody>
				<tr>
					<td>Programs compile and run without error</td>
					<td>3</td>
				</tr>
				<tr>
					<td>Good coding style</td>
					<td>3</td>
				</tr>
				<tr>
					<td>Task requirements met or exceeded</td>
					<td>3</td>
				</tr>
				<tr>
					<td>Learning Outcomes achieved</td>
					<td>3</td>
				</tr>
			</tbody>
			<tfoot>
				<tr>
					<th>Total</th>
					<td>12</td>
				</tr>
			</tfoot>
		</table>
	</section>

	<script src="../template/bundle.js" defer></script>
</body>
</html>
